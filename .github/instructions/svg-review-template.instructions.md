# SVG レビュー テンプレート（必須 4 ラウンド）

## 目的

- **必ず 4 ラウンドすべて実施する**（途中で 90 点に達しても早期終了しない）。
- 各ラウンドで異なる観点からチェックし、累積的に品質を向上させる。
- 各ラウンドで実際にファイルを開いて視覚的に確認する。

## 4 ラウンド必須モデル

> **🚨 重要**: 4 ラウンドすべて実施必須。途中で 90 点に達しても早期終了しない。

```
Round 1: 基本品質チェック → 重大問題の修正
         ↓ （必ず次へ）
Round 2: 細部・見落としチェック → 中程度の問題修正
         ↓ （必ず次へ）
Round 3: スタイル・可読性チェック → 微調整
         ↓ （必ず次へ）
Round 4: 最終品質チェック → 完了判定
```

## 各ラウンドのチェックリスト

### 1. マニフェスト整合（配点: 25 点）

- [ ] マニフェスト記載のノード（要素）がすべて存在するか
- [ ] マニフェスト記載のエッジ（接続線・矢印）が正しく配置されているか
- [ ] レイアウト方向（上下/左右/スイムレーン等）が指示通りか
- [ ] グループ化・階層構造が意図通りか

### 2. 視認性（配点: 25 点）

- [ ] テキストが読みやすいサイズ・位置か（最小 8px 以上推奨）
- [ ] 要素間の余白が適切か（重なり・詰まりすぎがないか）
- [ ] ラベルが要素や線と重複していないか
- [ ] 矢印の向きと位置が明確か
- [ ] 全体のバランス（偏りがないか）

### 3. スタイル準拠（配点: 25 点）

- [ ] 背景色・塗りつぶし色が指示通りか
- [ ] 境界線の色・太さ・線種（実線/破線）が指示通りか
- [ ] フォントファミリー・サイズ・太さが指示通りか
- [ ] 矢印マーカーの色・形状が適切か
- [ ] 凡例がある場合、実際の図と一致しているか

### 4. 技術確認（配点: 25 点）

- [ ] ファイルをブラウザまたはビューアで開いて表示されるか
- [ ] draw.io で開いて編集可能か（mxfile メタ情報の存在）
- [ ] **全図形が `mxCell` として定義されているか**（⚠️ 重要）
- [ ] 出力パスがマニフェスト指定と一致するか
- [ ] 拡張子が正しいか（`*.drawio.svg` または指定形式）
- [ ] 文字化け・表示崩れがないか

> **🚨 draw.io で真っ白になる場合の原因**
>
> SVG ネイティブ要素（`<ellipse>`, `<path>`, `<rect>` 等）だけで描画し、
> `mxCell` 定義がない場合、ブラウザでは表示されても draw.io では編集対象がないため真っ白になります。
>
> **解決策**: 全図形を `mxCell` 要素として定義し直す。

### 5. アクション記録

- 各ラウンドで発見した問題点を列挙
- 次ラウンドで修正すべき優先事項を明記
- 修正後は再度ファイルを開いて確認

## スコアリング基準

| スコア  | 状態                                   |
| ------- | -------------------------------------- |
| 90-100  | 完了可能。軽微な調整のみ               |
| 70-89   | 主要な問題あり。1-2 ラウンドで修正可能 |
| 50-69   | 複数の問題あり。構造的な修正が必要     |
| 50 未満 | 再生成を検討                           |

## 完了条件

- **4 ラウンドすべて完了していること**（必須）。
- マニフェスト項目をすべて満たす。
- 可読性に致命的な問題がない。
- 合意したファイル名・拡張子で `outputs/` に保存されている。
- **実際にファイルを開いて視覚的に確認済み。**

## レビュー実行手順

> **🚨 重要**: 必ず 4 ラウンドすべて実施すること。途中でスコアが 90 点でも早期終了しない。

1. `Start-Process` または適切なコマンドでファイルを開く
2. 上記チェックリストに沿って確認
3. 問題があれば修正を実施
4. 修正後に再度ファイルを開いて確認
5. **Round 1 → Round 2 → Round 3 → Round 4 を必ず実施**
6. Round 4 完了後に最終スコアを報告
